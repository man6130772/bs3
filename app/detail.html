<!DOCTYPE html>
<html class="app no-touch">
<head>
    <meta charset="utf-8" />
    <title>OCP微商城管理系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <link rel="stylesheet" href="http://s.belle.net.cn/bs3/1.0.1/css/app.css" type="text/css" />
    <link rel="stylesheet" href="http://s.belle.net.cn/bs3/1.0.1/css/base.css" type="text/css" />
    <link rel="stylesheet" href="http://s.belle.net.cn/bs3/1.0.1/js/datetimepicker/datetimepicker.min.css" type="text/css" />
    <link rel="stylesheet" href="http://s.belle.net.cn/bs3/1.0.1/js/chosen/chosen.min.css" type="text/css" />
    <link rel="stylesheet" href="http://s.belle.net.cn/bs3/1.0.1/js/slider/slider.css" type="text/css" />
</head>

<body class="">
    <section class="vbox">
        <header class="bg-primary header header-md navbar navbar-fixed-top-xs box-shadow">
            <div class="navbar-header aside-md">
                <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen,open" data-target="#nav,html"> <i class="fa fa-bars"></i> </a>
                <a href="index.html" class="navbar-brand"> <img src="http://172.17.210.82/ocp/images/common/logo.png" class="m-r-sm" alt="scale"> <span class="hidden-nav-xs">OCP</span> </a>
                <a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user"> <i class="fa fa-cog"></i> </a>
            </div>
            <!-- <ul class="nav navbar-nav hidden-xs">
                <li><a href="#">系统A</a></li>
                <li><a href="#">系统B</a></li>
                <li><a href="#">系统C</a></li>
                <li><a href="#">系统D</a></li>
                <li><a href="#">系统E</a></li>
            </ul> -->
            <ul class="nav navbar-nav navbar-right m-n hidden-xs nav-user user">
                <li class="hidden-xs">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <i class="i i-chat3"></i> <span class="badge badge-sm up bg-danger count">2</span> </a>
                    <section class="dropdown-menu aside-xl animated flipInY">
                        <section class="panel bg-white">
                            <div class="panel-heading b-light bg-light"> <strong>你有<span class="count">2</span> 个新通知</strong> </div>
                            <div class="list-group list-group-alt">
                                <a href="#" class="media list-group-item"> <span class="pull-left thumb-sm"> <img src="http://172.17.210.82/ocp/images/avatar/a0.png" alt="..." class="img-circle"> </span> <span class="media-body block m-b-none"> 使用bootstrap框架<br> <small class="text-muted">10分钟前</small> </span> </a>
                                <a href="#" class="media list-group-item"> <span class="media-body block m-b-none"> 1.0版本发布<br> <small class="text-muted">1小时前</small> </span> </a>
                            </div>
                            <div class="panel-footer text-sm"> <a href="#" class="pull-right"><i class="fa fa-cog"></i></a> <a href="#notes" data-toggle="class:show animated fadeInRight">查看所有通知</a> </div>
                        </section>
                    </section>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"> <span class="thumb-sm avatar pull-left"> <img src="http://172.17.210.82/ocp/images/avatar/a0.png" alt="..."> </span> 维森莫 <b class="caret"></b> </a>
                    <ul class="dropdown-menu animated fadeInRight">
                        <li> <span class="arrow top"></span> <a href="#">系统设置</a> </li>
                        <li> <a href="#">资料修改</a> </li>
                        <li>
                            <a href="#"> <span class="badge bg-danger pull-right">3</span> 新信息</a>
                        </li>
                        <li> <a href="#">帮助</a> </li>
                        <li class="divider"></li>
                        <li> <a href="login.html" data-toggle="ajaxModal">退出</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </header>
        <section>
            <section class="hbox stretch">
                <!-- .aside -->
                <aside class="bg-light dker aside-md hidden-print hidden-xs sidebar" id="nav">
                    <section class="vbox">
                        <section class="w-f scrollable">
                            <div class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0" data-size="10px" data-railOpacity="0.2">
                                <div class="clearfix wrapper dk nav-user hidden-xs">
                                    <div class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                            <span class="thumb avatar pull-left m-r">
                                                <img src="http://172.17.210.82/ocp/images/avatar/a0.png" class="dker" alt="..."> 
                                                <i class="on md b-black"></i>
                                            </span>
                                            <span class="hidden-nav-xs clear">
                                                <span class="block m-t-xs">
                                                    <strong class="font-bold text-lt">维森莫</strong>
                                                    <b class="caret"></b>
                                                </span> 
                                                <span class="text-muted text-xs block">超级管理员</span>
                                            </span>
                                        </a>
                                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                                            <li> <span class="arrow top hidden-nav-xs"></span> <a href="#">系统设置</a> </li>
                                            <li> <a href="profile.html">资料修改</a> </li>
                                            <li>
                                                <a href="#"> <span class="badge bg-danger pull-right">3</span> 新信息 </a>
                                            </li>
                                            <li> <a href="docs.html">帮助</a> </li>
                                            <li class="divider"></li>
                                            <li> <a href="modal.lockme.html" data-toggle="ajaxModal">退出</a> </li>
                                        </ul>
                                    </div>
                                </div><!-- user -->
                                <nav id="sideNav" class="nav-primary hidden-xs">
                                </nav><!-- nav -->
                            </div>
                        </section>
                        <footer class="footer hidden-xs no-padder dk text-center-nav-xs">
                            <a rel="tooltip" title="退出" href="login.html" data-toggle="ajaxModal" class="btn btn-icon btn-inactive text-black pull-right m-l-xs m-r-xs hidden-nav-xs"> <i class="i i-logout"></i> </a>
                            <a id="sideNavSwitch" rel="tooltip" title="收缩" href="#nav" data-toggle="class:nav-xs" class="btn btn-icon btn-inactive text-black m-l-xs m-r-xs"> <i class="i i-circleleft text"></i> <i class="i i-circleright text-active"></i> </a>
                        </footer>
                    </section>
                </aside>
                <!-- /.aside -->
                <section id="content">
                    <section class="vbox">
                        <!-- <header class="header bg-light dk b-b b-light">
                            <p>Tab导航区域</p>
                        </header> -->
                        <section class="scrollable padder">

                            <div class="m-b-md">
                                <h3 class="m-b-none">商品名称商品名称商品名称</h3>
                            </div>

                            <section class="panel panel-default">

                                <header class="panel-heading font-bold">商品详细/修改</header>

                                <div class="panel-body">
                                    <form class="form-horizontal">

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">商品名称</label>
                                            <div class="col-sm-5">
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">复选框</label>
                                            <div class="col-sm-5">
                                                <label class="checkbox-inline i-checks">
                                                    <input type="checkbox" id="inlineCheckbox1" value="option1"><i></i> 选项 1
                                                </label>
                                                <label class="checkbox-inline i-checks">
                                                    <input type="checkbox" id="inlineCheckbox2" value="option2"><i></i> 选项 2
                                                </label>
                                            </div>
                                        </div>
                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">模块尺寸</label>
                                            <div class="col-sm-5">
                                                <div class="input-group m-b">
                                                    <span class="input-group-addon">宽</span>
                                                    <input type="text" class="form-control">
                                                    <span class="input-group-addon">像素</span>
                                                </div>
                                                <div class="input-group m-b">
                                                    <span class="input-group-addon">高</span>
                                                    <input type="text" class="form-control">
                                                    <span class="input-group-addon">像素</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">商品选择</label>
                                            <div class="col-sm-9">
                                                <div id="toolbar" class="m-b">
                                                    <button id="btn_add_product" type="button" class="btn btn-success">添加商品</button>
                                                </div>
                                                <table id="tb_add_product" class="table table-no-bordered table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th data-field="state" data-checkbox="true"></th>
                                                            <th data-field="createUser">图片</th>
                                                            <th data-field="createUser">商品款号</th>
                                                            <th data-field="createUser">商品名称</th>
                                                            <th data-field="createUser">牌价</th>
                                                            <th data-field="createUser">售价</th>
                                                            <th data-field="createUser">库存</th>
                                                            <th data-field="createUser">商城名称</th>
                                                            <th data-field="createUser">店铺名称</th>
                                                            <th data-field="createUser">品牌名称</th>
                                                            <th data-field="createUser">品牌分类</th>
                                                            <th data-field="createUser">是否显示</th>
                                                            <th data-formatter="cms_product_list_edit.operateFormatter" data-events="cms_product_list_edit.operateEvents">操作</th>   
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">普通下拉列表</label>
                                            <div class="col-sm-5">
                                                <select class="form-control selectpicker" id="brandType"><!-- 统一加上样式：selectpicker 搜索需加属性： data-live-search="true" -->
                                                    <option value="">全部</option>
                                                    <option value="0">百丽Belle</option>
                                                    <option value="1">他她TATA</option>
                                                    <option value="2">天美意TEENMIX</option>
                                                    <option value="3">匡威CONVERSE</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">尺码表</label>
                                            <div class="col-sm-8">
                                                <p><button id="tableAddBtn" type="button" class="btn btn-default">新增尺寸表</button></p>
                                                <div id="sizeTableContainer"></div>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">文件上传</label>
                                            <div class="col-sm-5">
                                                <input type="file" class="filestyle" data-icon="false" data-classbutton="btn btn-default" data-classinput="form-control inline v-middle input-s" id="filestyle-0" style="position: fixed; left: -500px;">
                                                <label for="filestyle-0" class="btn btn-default no-radius"><span>上传文件</span></label>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>
                                        
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">图片修改</label>
                                            <div class="col-sm-3">
                                                <div class="img-full pos-rlt">
                                                    <img src="http://172.17.210.82/ocp/images/photo/p1.jpg" />
                                                </div>
                                                <input type="file" class="filestyle" data-icon="false" data-classbutton="btn btn-default" data-classinput="form-control inline v-middle input-s" id="filestyle-2" style="position: fixed; left: -500px;">
                                                <label for="filestyle-2" class="btn btn-default btn-block no-radius"><i class="fa fa-cloud-upload text"></i> <span>修改图片</span></label>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">序号</label>
                                            <div class="col-sm-5">
                                                <input type="text" class="form-control ">
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">滑块</label>
                                            <div class="col-sm-5">
                                                <input class="slider slider-horizontal form-control" type="text" value="" data-slider-min="5" data-slider-max="20" data-slider-step="1" data-slider-value="10" data-slider-orientation="horizontal">
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">开关</label>
                                            <div class="col-sm-5">
                                                <label class="switch">
                                                    <input type="checkbox"> <span></span> </label>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">是否显示</label>
                                            <div class="col-sm-5">
                                                <label class="radio-inline i-checks">
                                                    <input type="radio" id="inlineRadio1" name="inlineRadio1" value="option1" checked="checked"><i></i> 是
                                                </label>
                                                <label class="checkbox-inline i-checks">
                                                    <input type="radio" id="inlineRadio2" name="inlineRadio1" value="option2"><i></i> 否
                                                </label>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">日期控件(年月日)</label>
                                            <div class="col-sm-5">
                                                <input type='text' class="form-control" id="datetimepicker1" />
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">日期控件(带时分秒)</label>
                                            <div class="col-sm-5">
                                                <input type='text' class="form-control" id="datetimepicker2" />
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>

                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">多选带删除</label>
                                            <div class="col-sm-5">
                                                <select multiple class="chosen-select form-control">
                                                    <option value="AK">Alaska</option>
                                                    <option value="HI">Hawaii</option>
                                                    <option value="CA">California</option>
                                                    <option value="NV">Nevada</option>
                                                    <option value="OR">Oregon</option>
                                                    <option value="WA">Washington</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>
                                        
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">详情</label>
                                            <div class="col-sm-7">
                                                <textarea id="editor" style="height:350px">sss</textarea>
                                            </div>
                                        </div>

                                        <div class="line line-dashed b-b line-lg pull-in"></div>
                                        
                                        <div class="form-group">
                                            <div class="col-sm-5 col-sm-offset-3">
                                                <button type="button" class="btn btn-primary">保存</button>
                                            </div>
                                        </div>
                                        
                                    </form>
                                </div>

                            </section>

                        </section>
                        <!-- side content -->
                    </section>

                </section>
            </section>
        </section>
    </section>

    <!-- tree modal -->
    <div id="brandTreeModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">选择品牌分类</h4>
                </div>
                <div class="modal-body scrollable" style="max-height:350px;">
                    <div id="brandTree"></div>
                </div><!-- modal body -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">确定</button>
                </div><!-- modal footer -->
            </div><!-- modal content -->
        </div><!-- modal dialog -->
    </div><!-- tree modal -->

    <script>
        // 配置信息一定要放在boot.js上面，
        // 所有js引用和代码放在页面底部
        var staticurl = 'http://s.belle.net.cn/bs3/1.0.1';
        var BasePath = './';
    </script>
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/boot.js"></script>
    <script>
        /**
         * init sideNav
         * json数据模板: http://172.17.210.82/ocp/json/sideNav.json
         */
        $('#sideNav').sideNav({
            url: BasePath+'json/left_tree.json'
        });
    </script>

    <script src="http://s.belle.net.cn/bs3/1.0.1/js/ueditor/ueditor.config.js"></script>
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/ueditor/ueditor.all.js"></script>
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/ueditor/lang/zh-cn/zh-cn.js"></script>

    <script src="http://s.belle.net.cn/bs3/1.0.1/js/datetimepicker/moment.min.js"></script>
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/datetimepicker/datetimepicker.js"></script>
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/datetimepicker/zh-cn.js"></script>
    
    <script src="http://s.belle.net.cn/bs3/1.0.1/js/table/table-insert.js"></script>

    <script src="http://s.belle.net.cn/bs3/1.0.1/js/chosen/chosen.js"></script>

    <script src="http://s.belle.net.cn/bs3/1.0.1/js/slider/slider.js"></script>
    <script>
    $(function(){
        /**
         * ueeditor setting
         */
        window.ue = UE.getEditor('editor');

        /**
         * datetimepicker setting
         */
        $('#datetimepicker1').datetimepicker({
            format: 'YYYY-MM-DD',
            locale: moment.locale('zh-cn'),
            // debug: true,
        });
        $('#datetimepicker2').datetimepicker({
            format: 'YYYY-MM-DD H:mm:ss',
            locale: moment.locale('zh-cn'),
            // debug: true,
            sideBySide: true
        });

        /**
         * slider setting
         */
         $('.chosen-select').chosen(); 

        /**
         * slider setting
         */
        $('.slider').each(function(){
            $(this).slider();
        });

        /**
         * size table add
         */
        $('#tableAddBtn').on("click", function(){
            // 判断当前表格数量，来获取id
            var tableLen = $('#sizeTableContainer').find('.tableContainer').length;
            var tableID = 'crossTable'+ tableLen;
            var tableHtml = '<div class="tableContainer">'+
                        '<table id="'+tableID+'" class="crossTable table table-bordered table-striped"></table>'+
                    '</div>';
            $('#sizeTableContainer').append(tableHtml);

            // 初始化表格，至少要有一个初始化的字段
            $('#'+tableID).tableinsert({
                header: [{
                    field: 'size',
                    value: '尺码'
                }]
            });
        });


        /**
         * size table edit
         */
        // 测试数据
        // 数据里需要加上数据的字段名，定为itemField，以初始化表格用
        // 返回数据的各个mallSizeItemValueList数组长度需要一致，这里都是4条，这个长度决定了表格有多少行
        var mallSizeData = {
            mallSizeInfoItems: [],
            mallSizeItems: [
                {
                    itemName: '尺码',
                    itemField: 'size',
                    mallSizeItemValueList: ['210','220','230','240']
                },
                {
                    itemName: '腰围',
                    itemField: 'waist',
                    mallSizeItemValueList: ['30','32','36','37']
                },
                {
                    itemName: '领围',
                    itemField: 'neck',
                    mallSizeItemValueList: ['37','38','39','40']
                },
            ],
            mallsizeinfo: {},
        };
        
        // 转换数据函数
        function convertData(data){
            // 重新组装的行数据格式
            /**
             * rowData = [{
             *     columns: [{
             *         field: '',
             *         value: ''
             *     },{
             *         field: '',
             *         value: ''
             *     }]
             * },{
             *     columns: [{
             *         field: '',
             *         value: ''
             *     }]
             * }]
             */
            var rowData = [];
            var mallSizeItems = data.mallSizeItems;
            for (var i = 0; i < mallSizeItems[0].mallSizeItemValueList.length; i++) {
                var row = {
                    columns: []
                };
                for (var j = 0; j < mallSizeItems.length; j++) {
                    var column = {};
                    column['field'] = mallSizeItems[j].itemField;
                    column['value'] = mallSizeItems[j].mallSizeItemValueList[i];
                    row.columns.push(column);
                }
                rowData.push(row);
            }
            return rowData;
            // console.log(rowData);
        }

        // init size table
        function initSizeTable(){
            // 用组装的新数据初始化表格
            var tableID = 'modifyCrossTable1';
            var tableHtml = '<div class="tableContainer">'+
                        '<table id="'+tableID+'" class="crossTable table table-bordered table-striped"></table>'+
                    '</div>';
            var rowData = convertData(mallSizeData);
            $('#sizeTableContainer').append(tableHtml);
            // 调用表格插件
            $('#'+tableID).tableinsert({
                // header与上面的mallSizeItems里面字段对应
                header: [{
                    field: mallSizeData.mallSizeItems[0].itemField,
                    value: mallSizeData.mallSizeItems[0].itemName
                },{
                    field: mallSizeData.mallSizeItems[1].itemField,
                    value: mallSizeData.mallSizeItems[1].itemName
                },{
                    field: mallSizeData.mallSizeItems[2].itemField,
                    value: mallSizeData.mallSizeItems[2].itemName
                }],
                body: rowData,
                
                // 预览模式
                mode: 'preview'
            });
        }
        initSizeTable();

    });
    </script>

</body>
</html>
